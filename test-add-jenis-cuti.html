<!DOCTYPE html>
<html>
<head>
    <title>Test Add Jenis Cuti</title>
</head>
<body>
    <h1>Test Add Jenis Cuti</h1>
    <button onclick="addJenisCuti()">Add Test Data</button>
    <div id="result"></div>

    <script>
        async function addJenisCuti() {
            const jenisCutiData = [
                { namaCuti: "Cuti Tahunan", deskripsi: "Cuti tahunan sesuai undang-undang", isActive: true },
                { namaCuti: "Cuti Sakit", deskripsi: "Cuti karena sakit dengan surat dokter", isActive: true },
                { namaCuti: "Cuti Melahirkan", deskripsi: "Cuti melahirkan untuk karyawan wanita", isActive: true },
                { namaCuti: "Cuti Menikah", deskripsi: "Cuti untuk keperluan pernikahan", isActive: true },
                { namaCuti: "Cuti Kematian Keluarga", deskripsi: "Cuti karena kematian anggota keluarga", isActive: true }
            ];

            const token = localStorage.getItem('auth_token');
            if (!token) {
                alert('Please login first');
                return;
            }

            for (let data of jenisCutiData) {
                try {
                    const response = await fetch('http://localhost:3000/api/jenis-cuti', {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });

                    if (response.ok) {
                        console.log(`Added: ${data.namaCuti}`);
                    } else {
                        console.error(`Failed to add ${data.namaCuti}: ${response.status}`);
                    }
                } catch (error) {
                    console.error(`Error adding ${data.namaCuti}:`, error);
                }
            }
            
            document.getElementById('result').innerHTML = 'Done! Check console for details.';
        }
    </script>
</body>
</html>
